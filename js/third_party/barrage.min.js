function _0x2736(t,a){let e=_0x562b();return(_0x2736=function(t,a){return e[t-=287]})(t,a)}let _0xf096ba=_0x2736;(()=>{for(var t=_0x2736,a=_0x562b();;)try{if(695641==-parseInt(t(303))+-parseInt(t(294))/2+-parseInt(t(288))/3+-parseInt(t(347))/4+parseInt(t(316))/5+parseInt(t(339))/6*(parseInt(t(348))/7)+parseInt(t(306))/8*(parseInt(t(338))/9))break;a.push(a.shift())}catch(t){a.push(a.shift())}})();class Barrage{constructor(t){var a=_0x2736;this.comments=t,this[a(310)]=document[a(346)](a(322)),this[a(300)]=[],this[a(307)]=0,this[a(313)]=[],this[a(331)]=!1,this[a(326)]()}[_0xf096ba(318)]=t=>{let a=_0xf096ba;return t.flatMap(t=>t[a(330)]?[t,...this.filterAndFlatten(t[a(330)])]:[t])};[_0xf096ba(309)](t){var a=_0xf096ba;return t[a(292)](/(<([^>]+)>)/gi,"")[a(302)]()}[_0xf096ba(327)](t){var a,e=_0xf096ba,r=this[e(309)](t[e(342)]);return!!r&&((a=document[e(295)]("div"))[e(290)]=e(312),a[e(301)]='<div class="barrageHead"><a class="barrageTitle" href="javascript:sco.scrollTo(\'post-comment\')">'+GLOBAL_CONFIG[e(293)][e(344)][e(308)]+e(320)+t.nick+e(329)+GLOBAL_CONFIG[e(304)][e(315)]+e(323)+t[e(305)]+e(333)+(t.id?e(335)+t.id+"')":"javascript:sco.scrollTo('post-comment')")+'">'+r+e(287),this[e(310)][e(341)](a),this[e(313)][e(298)](a),!0)}[_0xf096ba(321)](t){let a=_0xf096ba;t[a(314)][a(334)](a(319)),setTimeout(()=>this[a(310)][a(289)](t),1e3)}[_0xf096ba(340)](){var t=_0xf096ba;if(this.barrageList[t(345)]&&!this[t(331)]){if(!this[t(327)](this.barrageList[this[t(307)]]))return this[t(307)]=(this[t(307)]+1)%this[t(300)][t(345)],this[t(340)]();this[t(307)]=(this[t(307)]+1)%this.barrageList[t(345)]}this[t(313)][t(345)]>Math.min(1,this.barrageList[t(345)])&&!this[t(331)]&&this[t(321)](this.barrageTimer[t(336)]())}initBarrage(){let t=_0xf096ba,a=utils[t(343)][t(311)](t(296));this[t(310)].style.display=t(a?317:324),this[t(300)]=this.filterAndFlatten(this[t(325)]),this[t(310)][t(301)]="",clearInterval(this.commentInterval),this[t(332)]=setInterval(()=>this[t(340)](),5e3)}[_0xf096ba(326)](){let t=_0xf096ba;this.initBarrage(),this.dom[t(328)]("mouseover",()=>this.hoverOnCommentBarrage=!0),this[t(310)][t(328)](t(337),()=>this[t(331)]=!1)}[_0xf096ba(291)](){let t=_0xf096ba;clearInterval(this[t(332)]),this[t(310)][t(297)]("mouseover",()=>this[t(331)]=!0),this[t(310)][t(297)](t(337),()=>this.hoverOnCommentBarrage=!1),this[t(310)][t(301)]=""}}function _0x562b(){let t=['</div><img class="barrageAvatar" src="',"replies","hoverOnCommentBarrage","commentInterval",'"/><a class="comment-barrage-close" href="javascript:sco.switchCommentBarrage();"><i class="solitude st-close-fill"></i></a></div><a class="barrageContent" href="',"add","javascript:sco.scrollTo('","shift","mouseout","10792323NNfVVh","32478HpqMfw","manageBarrage","appendChild","content","saveToLocal","barrage","length","querySelector","209952OxSGhj","854DBnOiw","</a>","3742368aCgLQg","removeChild","className","destroy","replace","lang","1438760uXBNRa","createElement","commentBarrageSwitch","removeEventListener","push","currentBarrage","barrageList","innerHTML","trim","271090IyHbzI","comment","mailMd5","8MDfQRc","barrageIndex","title","sanitizeContent","dom","get","comment-barrage-item","barrageTimer","classList","avatar","5632610YtcmxI","flex","filterAndFlatten","out",'</a><div class="barrageNick">',"removeBarrageItem",".comment-barrage","/avatar/","none","comments","init","createBarrageItem","addEventListener"];return(_0x562b=function(){return t})()}function initializeCommentBarrage(t){var a,e=_0xf096ba;0!==t[e(345)]&&((a=window[e(299)])&&a[e(291)](),window[e(299)]=new Barrage(t))}